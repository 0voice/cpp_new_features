# C++å­¦ä¹ ç¬”è®°

## ä¸€ã€åŸºç¡€çŸ¥è¯†

## [ğŸ“C++åŸºç¡€å…¥é—¨.md](https://github.com/0voice/cpp_new_features/blob/main/C%2B%2B%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8.md)

### 1ã€goto è¯­å¥(ä¸å»ºè®®ä½¿ç”¨)

**ä½œç”¨ï¼š** å¯ä»¥æ— æ¡ä»¶çš„è·³è½¬è¯­å¥

**è¯­æ³•ï¼š** `goto æ ‡è®°;`

**è§£é‡Šï¼š** å¦‚æœæ ‡è®°çš„åç§°å­˜åœ¨ï¼Œæ‰§è¡Œåˆ°gotoè¯­å¥æ—¶ï¼Œä¼šè·³è½¬åˆ°æ ‡è®°çš„ä½ç½®

```cpp
int main() {
    cout << 1 << endl;
    cout << 2 << endl;
    goto FLAG;
    cout << 3 << endl;
    cout << 4 << endl;
    FLAG:
    cout << 5 << endl;
    return 0;
}
```

### 2ã€ä¸€ç»´æ•°ç»„

ä¸€ç»´æ•°ç»„åç§°çš„**ç”¨é€”**

1. å¯ä»¥ç»Ÿè®¡æ•´ä¸ªæ•°ç»„åœ¨å†…å­˜ä¸­çš„é•¿åº¦
2. å¯ä»¥è·å–æ•°ç»„åœ¨å†…å­˜ä¸­çš„é¦–åœ°å€



**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	//æ•°ç»„åç”¨é€”
	//1ã€å¯ä»¥è·å–æ•´ä¸ªæ•°ç»„å ç”¨å†…å­˜ç©ºé—´å¤§å°
	int arr[10] = { 1,2,3,4,5,6,7,8,9,10 };

	cout << "æ•´ä¸ªæ•°ç»„æ‰€å å†…å­˜ç©ºé—´ä¸ºï¼š " << sizeof(arr) << endl;
	cout << "æ¯ä¸ªå…ƒç´ æ‰€å å†…å­˜ç©ºé—´ä¸ºï¼š " << sizeof(arr[0]) << endl;
	cout << "æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ä¸ºï¼š " << sizeof(arr) / sizeof(arr[0]) << endl;

	//2ã€å¯ä»¥é€šè¿‡æ•°ç»„åè·å–åˆ°æ•°ç»„é¦–åœ°å€
	cout << "æ•°ç»„é¦–åœ°å€ä¸ºï¼š " << (int)arr << endl;
	cout << "æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€ä¸ºï¼š " << (int)&arr[0] << endl;
	cout << "æ•°ç»„ä¸­ç¬¬äºŒä¸ªå…ƒç´ åœ°å€ä¸ºï¼š " << (int)&arr[1] << endl;

	//arr = 100; é”™è¯¯ï¼Œæ•°ç»„åæ˜¯å¸¸é‡ï¼Œå› æ­¤ä¸å¯ä»¥èµ‹å€¼


	system("pause");

	return 0;
}
```

æ³¨æ„ï¼šæ•°ç»„åæ˜¯å¸¸é‡ï¼Œä¸å¯ä»¥èµ‹å€¼

æ€»ç»“1ï¼šç›´æ¥æ‰“å°æ•°ç»„åï¼Œå¯ä»¥æŸ¥çœ‹æ•°ç»„æ‰€å å†…å­˜çš„é¦–åœ°å€

æ€»ç»“2ï¼šå¯¹æ•°ç»„åè¿›è¡Œsizeofï¼Œå¯ä»¥è·å–æ•´ä¸ªæ•°ç»„å å†…å­˜ç©ºé—´çš„å¤§å°



### 3ã€äºŒç»´æ•°ç»„



äºŒç»´æ•°ç»„å®šä¹‰çš„å››ç§æ–¹å¼ï¼š

1. `æ•°æ®ç±»å‹ æ•°ç»„å[ è¡Œæ•° ][ åˆ—æ•° ];`
2. `æ•°æ®ç±»å‹ æ•°ç»„å[ è¡Œæ•° ][ åˆ—æ•° ] = { {æ•°æ®1ï¼Œæ•°æ®2 } ï¼Œ{æ•°æ®3ï¼Œæ•°æ®4 } };`
3. `æ•°æ®ç±»å‹ æ•°ç»„å[ è¡Œæ•° ][ åˆ—æ•° ] = { æ•°æ®1ï¼Œæ•°æ®2ï¼Œæ•°æ®3ï¼Œæ•°æ®4};`
4. `æ•°æ®ç±»å‹ æ•°ç»„å[ ][ åˆ—æ•° ] = { æ•°æ®1ï¼Œæ•°æ®2ï¼Œæ•°æ®3ï¼Œæ•°æ®4};`

- æŸ¥çœ‹äºŒç»´æ•°ç»„æ‰€å å†…å­˜ç©ºé—´
- è·å–äºŒç»´æ•°ç»„é¦–åœ°å€

```cpp
int main() {

	//äºŒç»´æ•°ç»„æ•°ç»„å
	int arr[2][3] =
	{
		{1,2,3},
		{4,5,6}
	};

	cout << "äºŒç»´æ•°ç»„å¤§å°ï¼š " << sizeof(arr) << endl;
	cout << "äºŒç»´æ•°ç»„ä¸€è¡Œå¤§å°ï¼š " << sizeof(arr[0]) << endl;
	cout << "äºŒç»´æ•°ç»„å…ƒç´ å¤§å°ï¼š " << sizeof(arr[0][0]) << endl;

	cout << "äºŒç»´æ•°ç»„è¡Œæ•°ï¼š " << sizeof(arr) / sizeof(arr[0]) << endl;
	cout << "äºŒç»´æ•°ç»„åˆ—æ•°ï¼š " << sizeof(arr[0]) / sizeof(arr[0][0]) << endl;

	//åœ°å€
	cout << "äºŒç»´æ•°ç»„é¦–åœ°å€ï¼š" << arr << endl;
	cout << "äºŒç»´æ•°ç»„ç¬¬ä¸€è¡Œåœ°å€ï¼š" << arr[0] << endl;
	cout << "äºŒç»´æ•°ç»„ç¬¬äºŒè¡Œåœ°å€ï¼š" << arr[1] << endl;

	cout << "äºŒç»´æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ åœ°å€ï¼š" << &arr[0][0] << endl;
	cout << "äºŒç»´æ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ åœ°å€ï¼š" << &arr[0][1] << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“1ï¼šäºŒç»´æ•°ç»„åå°±æ˜¯è¿™ä¸ªæ•°ç»„çš„é¦–åœ°å€

æ€»ç»“2ï¼šå¯¹äºŒç»´æ•°ç»„åè¿›è¡Œsizeofæ—¶ï¼Œå¯ä»¥è·å–æ•´ä¸ªäºŒç»´æ•°ç»„å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°



### 4ã€å‡½æ•°ä¸­çš„å€¼ä¼ é€’

- æ‰€è°“å€¼ä¼ é€’ï¼Œå°±æ˜¯å‡½æ•°è°ƒç”¨æ—¶å®å‚å°†æ•°å€¼ä¼ å…¥ç»™å½¢å‚
- å€¼ä¼ é€’æ—¶ï¼Œå¦‚æœå½¢å‚å‘ç”Ÿï¼Œå¹¶ä¸ä¼šå½±å“å®å‚(æ³¨æ„ï¼šå’ŒJavaä¸­ä¸åŒ)

```cpp
void swap(int num1, int num2)
{
	cout << "äº¤æ¢å‰ï¼š" << endl;
	cout << "num1 = " << num1 << endl;
	cout << "num2 = " << num2 << endl;

	int temp = num1;
	num1 = num2;
	num2 = temp;

	cout << "äº¤æ¢åï¼š" << endl;
	cout << "num1 = " << num1 << endl;
	cout << "num2 = " << num2 << endl;

	//return ; å½“å‡½æ•°å£°æ˜æ—¶å€™ï¼Œä¸éœ€è¦è¿”å›å€¼ï¼Œå¯ä»¥ä¸å†™return
}

int main() {

	int a = 10;
	int b = 20;

	swap(a, b);

	cout << "mianä¸­çš„ a = " << a << endl;
	cout << "mianä¸­çš„ b = " << b << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š å€¼ä¼ é€’æ—¶ï¼Œå½¢å‚æ˜¯ä¿®é¥°ä¸äº†å®å‚çš„



### 5ã€å‡½æ•°çš„å£°æ˜



**ä½œç”¨ï¼š** å‘Šè¯‰ç¼–è¯‘å™¨å‡½æ•°åç§°åŠå¦‚ä½•è°ƒç”¨å‡½æ•°ã€‚å‡½æ•°çš„å®é™…ä¸»ä½“å¯ä»¥å•ç‹¬å®šä¹‰ã€‚

- å‡½æ•°çš„**å£°æ˜å¯ä»¥å¤šæ¬¡**ï¼Œä½†æ˜¯å‡½æ•°çš„**å®šä¹‰åªèƒ½æœ‰ä¸€æ¬¡**



**(åœ¨Cä¸­ï¼Œå¦‚æœä¸è‡ªå®šä¹‰å‡½æ•°åœ¨mainæ–¹æ³•ä¹‹åå®šä¹‰ï¼Œå¦‚æœmainæ–¹æ³•è°ƒç”¨äº†æ­¤å‡½æ•°ï¼Œåˆ™mainæ–¹æ³•æ‰¾ä¸åˆ°æ­¤å‡½æ•°ï¼Œå› æ­¤éœ€è¦æå‰å£°æ˜)**

å’ŒJavaä¸­ä¸åŒ



### 6ã€å‡½æ•°çš„åˆ†æ–‡ä»¶ç¼–å†™



**ä½œç”¨ï¼š** è®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°

å‡½æ•°åˆ†æ–‡ä»¶ç¼–å†™ä¸€èˆ¬æœ‰4ä¸ªæ­¥éª¤

1. åˆ›å»ºåç¼€åä¸º.hçš„å¤´æ–‡ä»¶  
2. åˆ›å»ºåç¼€åä¸º.cppçš„æºæ–‡ä»¶

1. åœ¨å¤´æ–‡ä»¶ä¸­å†™å‡½æ•°çš„å£°æ˜
2. åœ¨æºæ–‡ä»¶ä¸­å†™å‡½æ•°çš„å®šä¹‰



**ç¤ºä¾‹ï¼š**

```cpp
//swap.hæ–‡ä»¶
#include<iostream>
using namespace std;

//å®ç°ä¸¤ä¸ªæ•°å­—äº¤æ¢çš„å‡½æ•°å£°æ˜
void swap(int a, int b);
//swap.cppæ–‡ä»¶
#include "swap.h"

void swap(int a, int b)
{
	int temp = a;
	a = b;
	b = temp;

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;
}
//mainå‡½æ•°æ–‡ä»¶
#include "swap.h"
int main() {

	int a = 100;
	int b = 200;
	swap(a, b);

	system("pause");

	return 0;
}
```



### 7ã€æŒ‡é’ˆ



#### 7.1 æŒ‡é’ˆçš„åŸºæœ¬æ¦‚å¿µ

**æŒ‡é’ˆçš„ä½œç”¨ï¼š** å¯ä»¥é€šè¿‡æŒ‡é’ˆé—´æ¥è®¿é—®å†…å­˜

- å†…å­˜ç¼–å·æ˜¯ä»0å¼€å§‹è®°å½•çš„ï¼Œä¸€èˆ¬ç”¨åå…­è¿›åˆ¶æ•°å­—è¡¨ç¤º
- å¯ä»¥åˆ©ç”¨æŒ‡é’ˆå˜é‡ä¿å­˜åœ°å€



#### 7.2 æŒ‡é’ˆå˜é‡çš„å®šä¹‰å’Œä½¿ç”¨

æŒ‡é’ˆå˜é‡å®šä¹‰è¯­æ³•ï¼š `æ•°æ®ç±»å‹ * å˜é‡å;`

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	//1ã€æŒ‡é’ˆçš„å®šä¹‰
	int a = 10; //å®šä¹‰æ•´å‹å˜é‡a
	
	//æŒ‡é’ˆå®šä¹‰è¯­æ³•ï¼š æ•°æ®ç±»å‹ * å˜é‡å ;
	int * p;

	//æŒ‡é’ˆå˜é‡èµ‹å€¼
	p = &a; //æŒ‡é’ˆæŒ‡å‘å˜é‡açš„åœ°å€
	cout << &a << endl; //æ‰“å°æ•°æ®açš„åœ°å€
	cout << p << endl;  //æ‰“å°æŒ‡é’ˆå˜é‡p

	//2ã€æŒ‡é’ˆçš„ä½¿ç”¨
	//é€šè¿‡*æ“ä½œæŒ‡é’ˆå˜é‡æŒ‡å‘çš„å†…å­˜
	cout << "*p = " << *p << endl;

	system("pause");

	return 0;
}
```

æŒ‡é’ˆå˜é‡å’Œæ™®é€šå˜é‡çš„åŒºåˆ«

- æ™®é€šå˜é‡å­˜æ”¾çš„æ˜¯æ•°æ®,æŒ‡é’ˆå˜é‡å­˜æ”¾çš„æ˜¯åœ°å€
- æŒ‡é’ˆå˜é‡å¯ä»¥é€šè¿‡" * "æ“ä½œç¬¦ï¼Œæ“ä½œæŒ‡é’ˆå˜é‡æŒ‡å‘çš„å†…å­˜ç©ºé—´ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºè§£å¼•ç”¨

æ€»ç»“1ï¼š æˆ‘ä»¬å¯ä»¥é€šè¿‡ & ç¬¦å· è·å–å˜é‡çš„åœ°å€

æ€»ç»“2ï¼šåˆ©ç”¨æŒ‡é’ˆå¯ä»¥è®°å½•åœ°å€

æ€»ç»“3ï¼šå¯¹æŒ‡é’ˆå˜é‡è§£å¼•ç”¨ï¼Œå¯ä»¥æ“ä½œæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜



#### 7.3 æŒ‡é’ˆæ‰€å å†…å­˜ç©ºé—´

æé—®ï¼šæŒ‡é’ˆä¹Ÿæ˜¯ç§æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆè¿™ç§æ•°æ®ç±»å‹å ç”¨å¤šå°‘å†…å­˜ç©ºé—´ï¼Ÿ

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;

	int * p;
	p = &a; //æŒ‡é’ˆæŒ‡å‘æ•°æ®açš„åœ°å€

	cout << *p << endl; //* è§£å¼•ç”¨
	cout << sizeof(p) << endl;
	cout << sizeof(char *) << endl;
	cout << sizeof(float *) << endl;
	cout << sizeof(double *) << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šæ‰€æœ‰æŒ‡é’ˆç±»å‹åœ¨32ä½æ“ä½œç³»ç»Ÿä¸‹æ˜¯4ä¸ªå­—èŠ‚ï¼Œ64ä½æ“ä½œç³»ç»Ÿä¸º8ä¸ªå­—èŠ‚

#### 7.4 ç©ºæŒ‡é’ˆå’Œé‡æŒ‡é’ˆ

**ç©ºæŒ‡é’ˆ**ï¼šæŒ‡é’ˆå˜é‡æŒ‡å‘å†…å­˜ä¸­ç¼–å·ä¸º0çš„ç©ºé—´

**ç”¨é€”ï¼š** åˆå§‹åŒ–æŒ‡é’ˆå˜é‡

**æ³¨æ„ï¼š** ç©ºæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜æ˜¯ä¸å¯ä»¥è®¿é—®çš„


**ç¤ºä¾‹1ï¼šç©ºæŒ‡é’ˆ**

```cpp
int main() {

	//æŒ‡é’ˆå˜é‡pæŒ‡å‘å†…å­˜åœ°å€ç¼–å·ä¸º0çš„ç©ºé—´
	int * p = NULL;

	//è®¿é—®ç©ºæŒ‡é’ˆæŠ¥é”™ 
	//å†…å­˜ç¼–å·0 ~255ä¸ºç³»ç»Ÿå ç”¨å†…å­˜ï¼Œä¸å…è®¸ç”¨æˆ·è®¿é—®
	cout << *p << endl;

	system("pause");

	return 0;
}
```



**é‡æŒ‡é’ˆ**ï¼šæŒ‡é’ˆå˜é‡æŒ‡å‘éæ³•çš„å†…å­˜ç©ºé—´

**ç¤ºä¾‹2ï¼šé‡æŒ‡é’ˆ**

```cpp
int main() {

	//æŒ‡é’ˆå˜é‡pæŒ‡å‘å†…å­˜åœ°å€ç¼–å·ä¸º0x1100çš„ç©ºé—´
	int * p = (int *)0x1100;

	//è®¿é—®é‡æŒ‡é’ˆæŠ¥é”™ 
	cout << *p << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šç©ºæŒ‡é’ˆå’Œé‡æŒ‡é’ˆéƒ½ä¸æ˜¯æˆ‘ä»¬ç”³è¯·çš„ç©ºé—´ï¼Œå› æ­¤ä¸è¦è®¿é—®ã€‚


#### 7.5 constä¿®é¥°æŒ‡é’ˆ


constä¿®é¥°æŒ‡é’ˆæœ‰ä¸‰ç§æƒ…å†µ

1. constä¿®é¥°æŒ‡é’ˆ   --- å¸¸é‡æŒ‡é’ˆ
2. constä¿®é¥°å¸¸é‡   --- æŒ‡é’ˆå¸¸é‡

1. constæ—¢ä¿®é¥°æŒ‡é’ˆï¼Œåˆä¿®é¥°å¸¸é‡


**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;
	int b = 10;

	//constä¿®é¥°çš„æ˜¯æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘å¯ä»¥æ”¹ï¼ŒæŒ‡é’ˆæŒ‡å‘çš„å€¼ä¸å¯ä»¥æ›´æ”¹
	const int * p1 = &a; 
	p1 = &b; //æ­£ç¡®
	//*p1 = 100;  æŠ¥é”™
	

	//constä¿®é¥°çš„æ˜¯å¸¸é‡ï¼ŒæŒ‡é’ˆæŒ‡å‘ä¸å¯ä»¥æ”¹ï¼ŒæŒ‡é’ˆæŒ‡å‘çš„å€¼å¯ä»¥æ›´æ”¹
	int * const p2 = &a;
	//p2 = &b; //é”™è¯¯
	*p2 = 100; //æ­£ç¡®

    //constæ—¢ä¿®é¥°æŒ‡é’ˆåˆä¿®é¥°å¸¸é‡
	const int * const p3 = &a;
	//p3 = &b; //é”™è¯¯
	//*p3 = 100; //é”™è¯¯

	system("pause");

	return 0;
}
```

æŠ€å·§ï¼šçœ‹constå³ä¾§ç´§è·Ÿç€çš„æ˜¯æŒ‡é’ˆè¿˜æ˜¯å¸¸é‡, æ˜¯æŒ‡é’ˆå°±æ˜¯å¸¸é‡æŒ‡é’ˆï¼Œæ˜¯å¸¸é‡å°±æ˜¯æŒ‡é’ˆå¸¸é‡



#### 7.6 æŒ‡é’ˆå’Œæ•°ç»„



**ä½œç”¨ï¼š** åˆ©ç”¨æŒ‡é’ˆè®¿é—®æ•°ç»„ä¸­å…ƒç´ 

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int arr[] = { 1,2,3,4,5,6,7,8,9,10 };

	int * p = arr;  //æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ

	cout << "ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š " << arr[0] << endl;
	cout << "æŒ‡é’ˆè®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š " << *p << endl;

	for (int i = 0; i < 10; i++)
	{
		//åˆ©ç”¨æŒ‡é’ˆéå†æ•°ç»„
		cout << *p << endl;
		p++;
	}

	system("pause");

	return 0;
}
```



#### 7.7 æŒ‡é’ˆå’Œå‡½æ•°

**ä½œç”¨ï¼š** åˆ©ç”¨æŒ‡é’ˆä½œå‡½æ•°å‚æ•°ï¼Œå¯ä»¥ä¿®æ”¹å®å‚çš„å€¼(å’Œå‰è¾¹å½¢å‚ç›¸å)



**ç¤ºä¾‹ï¼š**

```cpp
//å€¼ä¼ é€’
void swap1(int a ,int b)
{
	int temp = a;
	a = b; 
	b = temp;
}
//åœ°å€ä¼ é€’
void swap2(int * p1, int *p2)
{
	int temp = *p1;
	*p1 = *p2;
	*p2 = temp;
}

int main() {

	int a = 10;
	int b = 20;
	swap1(a, b); // å€¼ä¼ é€’ä¸ä¼šæ”¹å˜å®å‚

	swap2(&a, &b); //åœ°å€ä¼ é€’ä¼šæ”¹å˜å®å‚

	cout << "a = " << a << endl;

	cout << "b = " << b << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå¦‚æœä¸æƒ³ä¿®æ”¹å®å‚ï¼Œå°±ç”¨å€¼ä¼ é€’ï¼Œå¦‚æœæƒ³ä¿®æ”¹å®å‚ï¼Œå°±ç”¨åœ°å€ä¼ é€’



#### 7.8 æŒ‡é’ˆã€æ•°ç»„ã€å‡½æ•°



**æ¡ˆä¾‹æè¿°ï¼š** å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œåˆ©ç”¨å†’æ³¡æ’åºï¼Œå®ç°å¯¹æ•´å‹æ•°ç»„çš„å‡åºæ’åº

ä¾‹å¦‚æ•°ç»„ï¼šint arr[10] = { 4,3,6,9,1,2,10,8,7,5 };



**ç¤ºä¾‹ï¼š**

```cpp
//å†’æ³¡æ’åºå‡½æ•°
void bubbleSort(int * arr, int len)  //int * arr ä¹Ÿå¯ä»¥å†™ä¸ºint arr[]
{
	for (int i = 0; i < len - 1; i++)
	{
		for (int j = 0; j < len - 1 - i; j++)
		{
			if (arr[j] > arr[j + 1])
			{
				int temp = arr[j];
				arr[j] = arr[j + 1];
				arr[j + 1] = temp;
			}
		}
	}
}

//æ‰“å°æ•°ç»„å‡½æ•°
void printArray(int arr[], int len)
{
	for (int i = 0; i < len; i++)
	{
		cout << arr[i] << endl;
	}
}

int main() {

	int arr[10] = { 4,3,6,9,1,2,10,8,7,5 };
	int len = sizeof(arr) / sizeof(int);

	bubbleSort(arr, len);

	printArray(arr, len);

	system("pause");

	return 0;
}
```

### 8ã€ç»“æ„ä½“



#### 8.1 ç»“æ„ä½“åŸºæœ¬æ¦‚å¿µ

ç»“æ„ä½“å±äºç”¨æˆ· è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œå…è®¸ç”¨æˆ·å­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹

(è·ŸJavaä¸­çš„å¯¹è±¡æ¯”è¾ƒåƒï¼Œä½†æ˜¯åªæœ‰å±æ€§ï¼Œæ²¡æœ‰æ–¹æ³•ã€‚ä¸‹é¢å…¶ä»–çš„ç»“æ„ä½“ä½¿ç”¨ï¼Œéƒ½å¯ä»¥ç±»æ¯”Javaä¸­å¯¹è±¡çš„ä½¿ç”¨)



#### 8.2 ç»“æ„ä½“å®šä¹‰å’Œä½¿ç”¨

**è¯­æ³•ï¼š** `struct ç»“æ„ä½“å { ç»“æ„ä½“æˆå‘˜åˆ—è¡¨ }ï¼›`

é€šè¿‡ç»“æ„ä½“åˆ›å»ºå˜é‡çš„æ–¹å¼æœ‰ä¸‰ç§ï¼š

- struct ç»“æ„ä½“å å˜é‡å
- struct ç»“æ„ä½“å å˜é‡å = { æˆå‘˜1å€¼ ï¼Œ æˆå‘˜2å€¼...}

- å®šä¹‰ç»“æ„ä½“æ—¶é¡ºä¾¿åˆ›å»ºå˜é‡
- 

**ç¤ºä¾‹ï¼š**

```cpp
//ç»“æ„ä½“å®šä¹‰
struct student
{
	//æˆå‘˜åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é¾„
	int score;    //åˆ†æ•°
}stu3; //ç»“æ„ä½“å˜é‡åˆ›å»ºæ–¹å¼3 


int main() {

	//ç»“æ„ä½“å˜é‡åˆ›å»ºæ–¹å¼1
	struct student stu1; //struct å…³é”®å­—å¯ä»¥çœç•¥

	stu1.name = "å¼ ä¸‰";
	stu1.age = 18;
	stu1.score = 100;
	
	cout << "å§“åï¼š" << stu1.name << " å¹´é¾„ï¼š" << stu1.age  << " åˆ†æ•°ï¼š" << stu1.score << endl;

	//ç»“æ„ä½“å˜é‡åˆ›å»ºæ–¹å¼2
	struct student stu2 = { "æå››",19,60 };

	cout << "å§“åï¼š" << stu2.name << " å¹´é¾„ï¼š" << stu2.age  << " åˆ†æ•°ï¼š" << stu2.score << endl;


	stu3.name = "ç‹äº”";
	stu3.age = 18;
	stu3.score = 80;
	

	cout << "å§“åï¼š" << stu3.name << " å¹´é¾„ï¼š" << stu3.age  << " åˆ†æ•°ï¼š" << stu3.score << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“1ï¼šå®šä¹‰ç»“æ„ä½“æ—¶çš„å…³é”®å­—æ˜¯structï¼Œä¸å¯çœç•¥

æ€»ç»“2ï¼šåˆ›å»ºç»“æ„ä½“å˜é‡æ—¶ï¼Œå…³é”®å­—structå¯ä»¥çœç•¥

æ€»ç»“3ï¼šç»“æ„ä½“å˜é‡åˆ©ç”¨æ“ä½œç¬¦ ''.''  è®¿é—®æˆå‘˜



#### 8.3 ç»“æ„ä½“æ•°ç»„

**ä½œç”¨ï¼š** å°†è‡ªå®šä¹‰çš„ç»“æ„ä½“æ”¾å…¥åˆ°æ•°ç»„ä¸­æ–¹ä¾¿ç»´æŠ¤

**è¯­æ³•ï¼š** `struct  ç»“æ„ä½“å æ•°ç»„å[å…ƒç´ ä¸ªæ•°] = {  {} , {} , ... {} }`



**ç¤ºä¾‹ï¼š**

```cpp
//ç»“æ„ä½“å®šä¹‰
struct student
{
	//æˆå‘˜åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é¾„
	int score;    //åˆ†æ•°
}

int main() {
	
	//ç»“æ„ä½“æ•°ç»„
	struct student arr[3]=
	{
		{"å¼ ä¸‰",18,80 },
		{"æå››",19,60 },
		{"ç‹äº”",20,70 }
	};

	for (int i = 0; i < 3; i++)
	{
		cout << "å§“åï¼š" << arr[i].name << " å¹´é¾„ï¼š" << arr[i].age << " åˆ†æ•°ï¼š" << arr[i].score << endl;
	}

	system("pause");

	return 0;
}
```



#### 8.4 ç»“æ„ä½“æŒ‡é’ˆ

**ä½œç”¨ï¼š** é€šè¿‡æŒ‡é’ˆè®¿é—®ç»“æ„ä½“ä¸­çš„æˆå‘˜

- åˆ©ç”¨æ“ä½œç¬¦ `->`å¯ä»¥é€šè¿‡ç»“æ„ä½“æŒ‡é’ˆè®¿é—®ç»“æ„ä½“å±æ€§



**ç¤ºä¾‹ï¼š**

```cpp
//ç»“æ„ä½“å®šä¹‰
struct student
{
	//æˆå‘˜åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é¾„
	int score;    //åˆ†æ•°
};


int main() {
	
	struct student stu = { "å¼ ä¸‰",18,100, };
	
	struct student * p = &stu;
	
	p->score = 80; //æŒ‡é’ˆé€šè¿‡ -> æ“ä½œç¬¦å¯ä»¥è®¿é—®æˆå‘˜

	cout << "å§“åï¼š" << p->name << " å¹´é¾„ï¼š" << p->age << " åˆ†æ•°ï¼š" << p->score << endl;
	
	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šç»“æ„ä½“æŒ‡é’ˆå¯ä»¥é€šè¿‡ -> æ“ä½œç¬¦ æ¥è®¿é—®ç»“æ„ä½“ä¸­çš„æˆå‘˜



#### 8.5 ç»“æ„ä½“åµŒå¥—ç»“æ„ä½“

**ä½œç”¨ï¼š** ç»“æ„ä½“ä¸­çš„æˆå‘˜å¯ä»¥æ˜¯å¦ä¸€ä¸ªç»“æ„ä½“

**ä¾‹å¦‚ï¼š** æ¯ä¸ªè€å¸ˆè¾…å¯¼ä¸€ä¸ªå­¦å‘˜ï¼Œä¸€ä¸ªè€å¸ˆçš„ç»“æ„ä½“ä¸­ï¼Œè®°å½•ä¸€ä¸ªå­¦ç”Ÿçš„ç»“æ„ä½“

**ç¤ºä¾‹ï¼š**

```cpp
//å­¦ç”Ÿç»“æ„ä½“å®šä¹‰struct student{	//æˆå‘˜åˆ—è¡¨	string name;  //å§“å	int age;      //å¹´é¾„	int score;    //åˆ†æ•°};//æ•™å¸ˆç»“æ„ä½“å®šä¹‰struct teacher{    //æˆå‘˜åˆ—è¡¨	int id; //èŒå·¥ç¼–å·	string name;  //æ•™å¸ˆå§“å	int age;   //æ•™å¸ˆå¹´é¾„	struct student stu; //å­ç»“æ„ä½“ å­¦ç”Ÿ};int main() {	struct teacher t1;	t1.id = 10000;	t1.name = "è€ç‹";	t1.age = 40;	t1.stu.name = "å¼ ä¸‰";	t1.stu.age = 18;	t1.stu.score = 100;	cout << "æ•™å¸ˆ èŒå·¥ç¼–å·ï¼š " << t1.id << " å§“åï¼š " << t1.name << " å¹´é¾„ï¼š " << t1.age << endl;		cout << "è¾…å¯¼å­¦å‘˜ å§“åï¼š " << t1.stu.name << " å¹´é¾„ï¼š" << t1.stu.age << " è€ƒè¯•åˆ†æ•°ï¼š " << t1.stu.score << endl;	system("pause");	return 0;}
```

**æ€»ç»“ï¼š** åœ¨ç»“æ„ä½“ä¸­å¯ä»¥å®šä¹‰å¦ä¸€ä¸ªç»“æ„ä½“ä½œä¸ºæˆå‘˜ï¼Œç”¨æ¥è§£å†³å®é™…é—®é¢˜





#### 8.6 ç»“æ„ä½“åšå‡½æ•°å‚æ•° 

**ä½œç”¨ï¼š** å°†ç»“æ„ä½“ä½œä¸ºå‚æ•°å‘å‡½æ•°ä¸­ä¼ é€’

ä¼ é€’æ–¹å¼æœ‰ä¸¤ç§ï¼š

- å€¼ä¼ é€’
- åœ°å€ä¼ é€’

**ç¤ºä¾‹ï¼š**

```cpp
//å­¦ç”Ÿç»“æ„ä½“å®šä¹‰
struct student
{
	//æˆå‘˜åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é¾„
	int score;    //åˆ†æ•°
};

//å€¼ä¼ é€’
void printStudent(student stu )
{
	stu.age = 28;
	cout << "å­å‡½æ•°ä¸­ å§“åï¼š" << stu.name << " å¹´é¾„ï¼š " << stu.age  << " åˆ†æ•°ï¼š" << stu.score << endl;
}

//åœ°å€ä¼ é€’
void printStudent2(student *stu)
{
	stu->age = 28;
	cout << "å­å‡½æ•°ä¸­ å§“åï¼š" << stu->name << " å¹´é¾„ï¼š " << stu->age  << " åˆ†æ•°ï¼š" << stu->score << endl;
}

int main() {

	student stu = { "å¼ ä¸‰",18,100};
	//å€¼ä¼ é€’
	printStudent(stu);
	cout << "ä¸»å‡½æ•°ä¸­ å§“åï¼š" << stu.name << " å¹´é¾„ï¼š " << stu.age << " åˆ†æ•°ï¼š" << stu.score << endl;

	cout << endl;

	//åœ°å€ä¼ é€’
	printStudent2(&stu);
	cout << "ä¸»å‡½æ•°ä¸­ å§“åï¼š" << stu.name << " å¹´é¾„ï¼š " << stu.age  << " åˆ†æ•°ï¼š" << stu.score << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå¦‚æœä¸æƒ³ä¿®æ”¹ä¸»å‡½æ•°ä¸­çš„æ•°æ®ï¼Œç”¨å€¼ä¼ é€’ï¼Œåä¹‹ç”¨åœ°å€ä¼ é€’



#### 8.7 ç»“æ„ä½“ä¸­ constä½¿ç”¨åœºæ™¯

**ä½œç”¨ï¼š** ç”¨constæ¥é˜²æ­¢è¯¯æ“ä½œ

**ç¤ºä¾‹ï¼š**

```cpp
//å­¦ç”Ÿç»“æ„ä½“å®šä¹‰
struct student
{
	//æˆå‘˜åˆ—è¡¨
	string name;  //å§“å
	int age;      //å¹´é¾„
	int score;    //åˆ†æ•°
};

//constä½¿ç”¨åœºæ™¯
void printStudent(const student *stu) //åŠ consté˜²æ­¢å‡½æ•°ä½“ä¸­çš„è¯¯æ“ä½œ
{
	//stu->age = 100; //æ“ä½œå¤±è´¥ï¼Œå› ä¸ºåŠ äº†constä¿®é¥°
	cout << "å§“åï¼š" << stu->name << " å¹´é¾„ï¼š" << stu->age << " åˆ†æ•°ï¼š" << stu->score << endl;

}

int main() {

	student stu = { "å¼ ä¸‰",18,100 };

	printStudent(&stu);

	system("pause");

	return 0;
}
```

## äºŒã€æ ¸å¿ƒç¼–ç¨‹

C++ä¸­çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆç¬‘ï¼‰

## [ğŸ“C++æ ¸å¿ƒç¼–ç¨‹.md](https://github.com/0voice/cpp_new_features/blob/main/C%2B%2B%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B.md)



### 1ã€å†…å­˜åˆ†åŒºæ¨¡å‹

C++ç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼Œå°†å†…å­˜å¤§æ–¹å‘åˆ’åˆ†ä¸º**4ä¸ªåŒºåŸŸ**

- ä»£ç åŒºï¼šå­˜æ”¾å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ï¼Œç”±æ“ä½œç³»ç»Ÿè¿›è¡Œç®¡ç†çš„
- å…¨å±€åŒºï¼šå­˜æ”¾å…¨å±€å˜é‡å’Œé™æ€å˜é‡ä»¥åŠå¸¸é‡

- æ ˆåŒºï¼šç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾, å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼,å±€éƒ¨å˜é‡ç­‰
- å †åŒºï¼šç”±ç¨‹åºå‘˜åˆ†é…å’Œé‡Šæ”¾,è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾,ç¨‹åºç»“æŸæ—¶ç”±æ“ä½œç³»ç»Ÿå›æ”¶



**å†…å­˜å››åŒºæ„ä¹‰ï¼š**

ä¸åŒåŒºåŸŸå­˜æ”¾çš„æ•°æ®ï¼Œèµ‹äºˆä¸åŒçš„ç”Ÿå‘½å‘¨æœŸ, ç»™æˆ‘ä»¬æ›´å¤§çš„çµæ´»ç¼–ç¨‹


#### 1.1 ç¨‹åºè¿è¡Œå‰

åœ¨ç¨‹åºç¼–è¯‘åï¼Œç”Ÿæˆäº†exeå¯æ‰§è¡Œç¨‹åºï¼Œ**æœªæ‰§è¡Œè¯¥ç¨‹åºå‰**åˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸ

- ä»£ç åŒºï¼š

- - å­˜æ”¾ CPU æ‰§è¡Œçš„æœºå™¨æŒ‡ä»¤
  - ä»£ç åŒºæ˜¯**å…±äº«**çš„ï¼Œå…±äº«çš„ç›®çš„æ˜¯å¯¹äºé¢‘ç¹è¢«æ‰§è¡Œçš„ç¨‹åºï¼Œåªéœ€è¦åœ¨å†…å­˜ä¸­æœ‰ä¸€ä»½ä»£ç å³å¯

- - ä»£ç åŒºæ˜¯**åªè¯»**çš„ï¼Œä½¿å…¶åªè¯»çš„åŸå› æ˜¯é˜²æ­¢ç¨‹åºæ„å¤–åœ°ä¿®æ”¹äº†å®ƒçš„æŒ‡ä»¤

- å…¨å±€åŒºï¼š

- - å…¨å±€å˜é‡å’Œé™æ€å˜é‡å­˜æ”¾åœ¨æ­¤
  - å…¨å±€åŒºè¿˜åŒ…å«äº†å¸¸é‡åŒº, å­—ç¬¦ä¸²å¸¸é‡å’Œå…¶ä»–å¸¸é‡ä¹Ÿå­˜æ”¾åœ¨æ­¤

- - è¯¥åŒºåŸŸçš„æ•°æ®åœ¨ç¨‹åºç»“æŸåç”±æ“ä½œç³»ç»Ÿé‡Šæ”¾



**ç¤ºä¾‹ï¼š**

```cpp
//å…¨å±€å˜é‡
int g_a = 10;
int g_b = 10;

//å…¨å±€å¸¸é‡
const int c_g_a = 10;
const int c_g_b = 10;

int main() {

	//å±€éƒ¨å˜é‡
	int a = 10;
	int b = 10;

	//æ‰“å°åœ°å€
	cout << "å±€éƒ¨å˜é‡aåœ°å€ä¸ºï¼š " << (int)&a << endl;
	cout << "å±€éƒ¨å˜é‡båœ°å€ä¸ºï¼š " << (int)&b << endl;

	cout << "å…¨å±€å˜é‡g_aåœ°å€ä¸ºï¼š " <<  (int)&g_a << endl;
	cout << "å…¨å±€å˜é‡g_båœ°å€ä¸ºï¼š " <<  (int)&g_b << endl;

	//é™æ€å˜é‡
	static int s_a = 10;
	static int s_b = 10;

	cout << "é™æ€å˜é‡s_aåœ°å€ä¸ºï¼š " << (int)&s_a << endl;
	cout << "é™æ€å˜é‡s_båœ°å€ä¸ºï¼š " << (int)&s_b << endl;

	cout << "å­—ç¬¦ä¸²å¸¸é‡åœ°å€ä¸ºï¼š " << (int)&"hello world" << endl;
	cout << "å­—ç¬¦ä¸²å¸¸é‡åœ°å€ä¸ºï¼š " << (int)&"hello world1" << endl;

	cout << "å…¨å±€å¸¸é‡c_g_aåœ°å€ä¸ºï¼š " << (int)&c_g_a << endl;
	cout << "å…¨å±€å¸¸é‡c_g_båœ°å€ä¸ºï¼š " << (int)&c_g_b << endl;

	const int c_l_a = 10;
	const int c_l_b = 10;
	cout << "å±€éƒ¨å¸¸é‡c_l_aåœ°å€ä¸ºï¼š " << (int)&c_l_a << endl;
	cout << "å±€éƒ¨å¸¸é‡c_l_båœ°å€ä¸ºï¼š " << (int)&c_l_b << endl;

	system("pause");

	return 0;
}
```

![img](https://cdn.nlark.com/yuque/0/2021/png/2797977/1627450152945-bd009327-0c74-498d-8950-d300ec297b88.png)

æ€»ç»“ï¼š

- C++ä¸­åœ¨ç¨‹åºè¿è¡Œå‰åˆ†ä¸ºå…¨å±€åŒºå’Œä»£ç åŒº
- ä»£ç åŒºç‰¹ç‚¹æ˜¯å…±äº«å’Œåªè¯»

- å…¨å±€åŒºä¸­å­˜æ”¾å…¨å±€å˜é‡ã€é™æ€å˜é‡ã€å¸¸é‡
- å¸¸é‡åŒºä¸­å­˜æ”¾ constä¿®é¥°çš„å…¨å±€å¸¸é‡  å’Œ å­—ç¬¦ä¸²å¸¸é‡





#### 1.2 ç¨‹åºè¿è¡Œå

**æ ˆåŒºï¼š**

- ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾, å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼,å±€éƒ¨å˜é‡ç­‰
- æ³¨æ„äº‹é¡¹ï¼šä¸è¦è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€ï¼Œæ ˆåŒºå¼€è¾Ÿçš„æ•°æ®ç”±ç¼–è¯‘å™¨è‡ªåŠ¨é‡Šæ”¾



**ç¤ºä¾‹ï¼š**  

```cpp
int * func()
{
	int a = 10;
	return &a;
}

int main() {

	int *p = func();

	cout << *p << endl;
	cout << *p << endl;

	system("pause");

	return 0;
}
```


**å †åŒºï¼š**

- ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾,è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾,ç¨‹åºç»“æŸæ—¶ç”±æ“ä½œç³»ç»Ÿå›æ”¶
- åœ¨C++ä¸­ä¸»è¦åˆ©ç”¨newåœ¨å †åŒºå¼€è¾Ÿå†…å­˜


**ç¤ºä¾‹ï¼š**

```cpp
int* func()
{
	int* a = new int(10);
	return a;
}

int main() {

	int *p = func();

	cout << *p << endl;
	cout << *p << endl;
    
	system("pause");

	return 0;
}
```



**æ€»ç»“ï¼š**

- å †åŒºæ•°æ®ç”±ç¨‹åºå‘˜ç®¡ç†å¼€è¾Ÿå’Œé‡Šæ”¾
- å †åŒºæ•°æ®åˆ©ç”¨newå…³é”®å­—è¿›è¡Œå¼€è¾Ÿå†…å­˜





#### 1.3 newæ“ä½œç¬¦

- C++ä¸­åˆ©ç”¨ new æ“ä½œç¬¦åœ¨å †åŒºå¼€è¾Ÿæ•°æ®
- å †åŒºå¼€è¾Ÿçš„æ•°æ®ï¼Œç”±ç¨‹åºå‘˜æ‰‹åŠ¨å¼€è¾Ÿï¼Œæ‰‹åŠ¨é‡Šæ”¾ï¼Œé‡Šæ”¾åˆ©ç”¨æ“ä½œç¬¦ delete 

- è¯­æ³•ï¼š`new æ•°æ®ç±»å‹`
- åˆ©ç”¨newåˆ›å»ºçš„æ•°æ®ï¼Œä¼šè¿”å›è¯¥æ•°æ®å¯¹åº”çš„ç±»å‹çš„æŒ‡é’ˆ



**ç¤ºä¾‹1ï¼š åŸºæœ¬è¯­æ³•**

```cpp
int* func()
{
	int* a = new int(10);
	return a;
}

int main() {

	int *p = func();

	cout << *p << endl;
	cout << *p << endl;

	//åˆ©ç”¨deleteé‡Šæ”¾å †åŒºæ•°æ®
	delete p;

	//cout << *p << endl; //æŠ¥é”™ï¼Œé‡Šæ”¾çš„ç©ºé—´ä¸å¯è®¿é—®

	system("pause");

	return 0;
}
```



**ç¤ºä¾‹2ï¼šå¼€è¾Ÿæ•°ç»„**

```cpp
//å †åŒºå¼€è¾Ÿæ•°ç»„
int main() {

	int* arr = new int[10];

	for (int i = 0; i < 10; i++)
	{
		arr[i] = i + 100;
	}

	for (int i = 0; i < 10; i++)
	{
		cout << arr[i] << endl;
	}
	//é‡Šæ”¾æ•°ç»„ delete ååŠ  []
	delete[] arr;

	system("pause");

	return 0;
}
```



### 2ã€å¼•ç”¨


#### 2.1 å¼•ç”¨çš„åŸºæœ¬ä½¿ç”¨

**ä½œç”¨ï¼š** ç»™å˜é‡èµ·åˆ«å

**è¯­æ³•ï¼š** `æ•°æ®ç±»å‹ &åˆ«å = åŸå`

**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;
	int &b = a;

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;

	b = 100;

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;

	system("pause");

	return 0;
}
```



#### 2.2 å¼•ç”¨æ³¨æ„äº‹é¡¹

- å¼•ç”¨å¿…é¡»åˆå§‹åŒ–
- å¼•ç”¨åœ¨åˆå§‹åŒ–åï¼Œä¸å¯ä»¥æ”¹å˜


**ç¤ºä¾‹ï¼š**

```cpp
int main() {

	int a = 10;
	int b = 20;
	//int &c; //é”™è¯¯ï¼Œå¼•ç”¨å¿…é¡»åˆå§‹åŒ–
	int &c = a; //ä¸€æ—¦åˆå§‹åŒ–åï¼Œå°±ä¸å¯ä»¥æ›´æ”¹
	c = b; //è¿™æ˜¯èµ‹å€¼æ“ä½œï¼Œä¸æ˜¯æ›´æ”¹å¼•ç”¨

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;
	cout << "c = " << c << endl;

	system("pause");

	return 0;
}
```





#### 2.3 å¼•ç”¨åšå‡½æ•°å‚æ•°

**ä½œç”¨ï¼š** å‡½æ•°ä¼ å‚æ—¶ï¼Œå¯ä»¥åˆ©ç”¨å¼•ç”¨çš„æŠ€æœ¯è®©å½¢å‚ä¿®é¥°å®å‚

**ä¼˜ç‚¹ï¼š** å¯ä»¥ç®€åŒ–æŒ‡é’ˆä¿®æ”¹å®å‚

**ç¤ºä¾‹ï¼š**

```cpp
//1. å€¼ä¼ é€’
void mySwap01(int a, int b) {
	int temp = a;
	a = b;
	b = temp;
}

//2. åœ°å€ä¼ é€’
void mySwap02(int* a, int* b) {
	int temp = *a;
	*a = *b;
	*b = temp;
}

//3. å¼•ç”¨ä¼ é€’
void mySwap03(int& a, int& b) {
	int temp = a;
	a = b;
	b = temp;
}

int main() {

	int a = 10;
	int b = 20;

	mySwap01(a, b);
	cout << "a:" << a << " b:" << b << endl;

	mySwap02(&a, &b);
	cout << "a:" << a << " b:" << b << endl;

	mySwap03(a, b);
	cout << "a:" << a << " b:" << b << endl;

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šé€šè¿‡å¼•ç”¨å‚æ•°äº§ç”Ÿçš„æ•ˆæœåŒæŒ‰åœ°å€ä¼ é€’æ˜¯ä¸€æ ·çš„ã€‚å¼•ç”¨çš„è¯­æ³•æ›´æ¸…æ¥šç®€å•


#### 2.4 å¼•ç”¨åšå‡½æ•°è¿”å›å€¼


**ä½œç”¨ï¼š** å¼•ç”¨æ˜¯å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼å­˜åœ¨çš„

**æ³¨æ„ï¼š** **ä¸è¦è¿”å›å±€éƒ¨å˜é‡å¼•ç”¨**

**ç”¨æ³•ï¼š** å‡½æ•°è°ƒç”¨ä½œä¸ºå·¦å€¼



**ç¤ºä¾‹ï¼š**

```cpp
//è¿”å›å±€éƒ¨å˜é‡å¼•ç”¨
int& test01() {
	int a = 10; //å±€éƒ¨å˜é‡
	return a;
}

//è¿”å›é™æ€å˜é‡å¼•ç”¨
int& test02() {
	static int a = 20;
	return a;
}

int main() {

	//ä¸èƒ½è¿”å›å±€éƒ¨å˜é‡çš„å¼•ç”¨
	int& ref = test01();
	cout << "ref = " << ref << endl;
	cout << "ref = " << ref << endl;

	//å¦‚æœå‡½æ•°åšå·¦å€¼ï¼Œé‚£ä¹ˆå¿…é¡»è¿”å›å¼•ç”¨
	int& ref2 = test02();
	cout << "ref2 = " << ref2 << endl;
	cout << "ref2 = " << ref2 << endl;

	test02() = 1000;

	cout << "ref2 = " << ref2 << endl;
	cout << "ref2 = " << ref2 << endl;

	system("pause");

	return 0;
}
```

#### 2.5 å¼•ç”¨çš„æœ¬è´¨

æœ¬è´¨ï¼š**å¼•ç”¨çš„æœ¬è´¨åœ¨c++å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¸¸é‡.**

è®²è§£ç¤ºä¾‹ï¼š

```cpp
//å‘ç°æ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º int* const ref = &a;
void func(int& ref){
	ref = 100; // refæ˜¯å¼•ç”¨ï¼Œè½¬æ¢ä¸º*ref = 100
}
int main(){
	int a = 10;
    
    //è‡ªåŠ¨è½¬æ¢ä¸º int* const ref = &a; æŒ‡é’ˆå¸¸é‡æ˜¯æŒ‡é’ˆæŒ‡å‘ä¸å¯æ”¹ï¼Œä¹Ÿè¯´æ˜ä¸ºä»€ä¹ˆå¼•ç”¨ä¸å¯æ›´æ”¹
	int& ref = a; 
	ref = 20; //å†…éƒ¨å‘ç°refæ˜¯å¼•ç”¨ï¼Œè‡ªåŠ¨å¸®æˆ‘ä»¬è½¬æ¢ä¸º: *ref = 20;
    
	cout << "a:" << a << endl;
	cout << "ref:" << ref << endl;
    
	func(a);
	return 0;
}
```

ç»“è®ºï¼šC++æ¨èç”¨å¼•ç”¨æŠ€æœ¯ï¼Œå› ä¸ºè¯­æ³•æ–¹ä¾¿ï¼Œå¼•ç”¨æœ¬è´¨æ˜¯æŒ‡é’ˆå¸¸é‡ï¼Œä½†æ˜¯æ‰€æœ‰çš„æŒ‡é’ˆæ“ä½œç¼–è¯‘å™¨éƒ½å¸®æˆ‘ä»¬åšäº†







#### 2.6 å¸¸é‡å¼•ç”¨

**ä½œç”¨ï¼š** å¸¸é‡å¼•ç”¨ä¸»è¦ç”¨æ¥ä¿®é¥°å½¢å‚ï¼Œé˜²æ­¢è¯¯æ“ä½œ

åœ¨å‡½æ•°å½¢å‚åˆ—è¡¨ä¸­ï¼Œå¯ä»¥åŠ constä¿®é¥°å½¢å‚ï¼Œé˜²æ­¢å½¢å‚æ”¹å˜å®å‚

**ç¤ºä¾‹ï¼š**

```cpp
//å¼•ç”¨ä½¿ç”¨çš„åœºæ™¯ï¼Œé€šå¸¸ç”¨æ¥ä¿®é¥°å½¢å‚
void showValue(const int& v) {
	//v += 10;
	cout << v << endl;
}

int main() {

	//int& ref = 10;  å¼•ç”¨æœ¬èº«éœ€è¦ä¸€ä¸ªåˆæ³•çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¿™è¡Œé”™è¯¯
	//åŠ å…¥constå°±å¯ä»¥äº†ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–ä»£ç ï¼Œint temp = 10; const int& ref = temp;
	const int& ref = 10;

	//ref = 100;  //åŠ å…¥conståä¸å¯ä»¥ä¿®æ”¹å˜é‡
	cout << ref << endl;

	//å‡½æ•°ä¸­åˆ©ç”¨å¸¸é‡å¼•ç”¨é˜²æ­¢è¯¯æ“ä½œä¿®æ”¹å®å‚
	int a = 10;
	showValue(a);

	system("pause");

	return 0;
}
```

### 3ã€å‡½æ•°

#### 3.1 å‡½æ•°é»˜è®¤å‚æ•°

åœ¨C++ä¸­ï¼Œå‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­çš„å½¢å‚æ˜¯å¯ä»¥æœ‰é»˜è®¤å€¼çš„ã€‚

è¯­æ³•ï¼š`è¿”å›å€¼ç±»å‹  å‡½æ•°å ï¼ˆå‚æ•°= é»˜è®¤å€¼ï¼‰{}`

**ç¤ºä¾‹ï¼š**

```cpp
int func(int a, int b = 10, int c = 10) {
	return a + b + c;
}

//1. å¦‚æœæŸä¸ªä½ç½®å‚æ•°æœ‰é»˜è®¤å€¼ï¼Œé‚£ä¹ˆä»è¿™ä¸ªä½ç½®å¾€åï¼Œä»å·¦å‘å³ï¼Œå¿…é¡»éƒ½è¦æœ‰é»˜è®¤å€¼
//2. å¦‚æœå‡½æ•°å£°æ˜æœ‰é»˜è®¤å€¼ï¼Œå‡½æ•°å®ç°çš„æ—¶å€™å°±ä¸èƒ½æœ‰é»˜è®¤å‚æ•°
int func2(int a = 10, int b = 10);
int func2(int a, int b) {
	return a + b;
}

int main() {

	cout << "ret = " << func(20, 20) << endl;
	cout << "ret = " << func(100) << endl;

	system("pause");

	return 0;
}
```





#### 3.2 å‡½æ•°å ä½å‚æ•°

C++ä¸­å‡½æ•°çš„å½¢å‚åˆ—è¡¨é‡Œå¯ä»¥æœ‰å ä½å‚æ•°ï¼Œç”¨æ¥åšå ä½ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¿…é¡»å¡«è¡¥è¯¥ä½ç½®

**è¯­æ³•ï¼š** `è¿”å›å€¼ç±»å‹ å‡½æ•°å (æ•°æ®ç±»å‹){}`

**ç¤ºä¾‹ï¼š**

```cpp
//å‡½æ•°å ä½å‚æ•° ï¼Œå ä½å‚æ•°ä¹Ÿå¯ä»¥æœ‰é»˜è®¤å‚æ•°
void func(int a, int) {
	cout << "this is func" << endl;
}

int main() {

	func(10,10); //å ä½å‚æ•°å¿…é¡»å¡«è¡¥

	system("pause");

	return 0;
}
```





#### 3.3 å‡½æ•°é‡è½½

##### 3.3.1 å‡½æ•°é‡è½½æ¦‚è¿°

**ä½œç”¨ï¼š** å‡½æ•°åå¯ä»¥ç›¸åŒï¼Œæé«˜å¤ç”¨æ€§


**å‡½æ•°é‡è½½æ»¡è¶³æ¡ä»¶ï¼š**

- åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹
- å‡½æ•°åç§°ç›¸åŒ

- å‡½æ•°å‚æ•°**ç±»å‹ä¸åŒ**  æˆ–è€… **ä¸ªæ•°ä¸åŒ** æˆ–è€… **é¡ºåºä¸åŒ**

**æ³¨æ„:**  å‡½æ•°çš„è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½çš„æ¡ä»¶

**ç¤ºä¾‹ï¼š**

```cpp
//å‡½æ•°é‡è½½éœ€è¦å‡½æ•°éƒ½åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹
void func()
{
	cout << "func çš„è°ƒç”¨ï¼" << endl;
}
void func(int a)
{
	cout << "func (int a) çš„è°ƒç”¨ï¼" << endl;
}
void func(double a)
{
	cout << "func (double a)çš„è°ƒç”¨ï¼" << endl;
}
void func(int a ,double b)
{
	cout << "func (int a ,double b) çš„è°ƒç”¨ï¼" << endl;
}
void func(double a ,int b)
{
	cout << "func (double a ,int b)çš„è°ƒç”¨ï¼" << endl;
}

//å‡½æ•°è¿”å›å€¼ä¸å¯ä»¥ä½œä¸ºå‡½æ•°é‡è½½æ¡ä»¶
//int func(double a, int b)
//{
//	cout << "func (double a ,int b)çš„è°ƒç”¨ï¼" << endl;
//}


int main() {

	func();
	func(10);
	func(3.14);
	func(10,3.14);
	func(3.14 , 10);
	
	system("pause");

	return 0;
}
```





##### 3.3.2 å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹

- å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶
- å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°



**ç¤ºä¾‹ï¼š**

```cpp
//å‡½æ•°é‡è½½æ³¨æ„äº‹é¡¹
//1ã€å¼•ç”¨ä½œä¸ºé‡è½½æ¡ä»¶

void func(int &a)
{
	cout << "func (int &a) è°ƒç”¨ " << endl;
}

void func(const int &a)
{
	cout << "func (const int &a) è°ƒç”¨ " << endl;
}


//2ã€å‡½æ•°é‡è½½ç¢°åˆ°å‡½æ•°é»˜è®¤å‚æ•°

void func2(int a, int b = 10)
{
	cout << "func2(int a, int b = 10) è°ƒç”¨" << endl;
}

void func2(int a)
{
	cout << "func2(int a) è°ƒç”¨" << endl;
}

int main() {
	
	int a = 10;
	func(a); //è°ƒç”¨æ— const
	func(10);//è°ƒç”¨æœ‰const


	//func2(10); //ç¢°åˆ°é»˜è®¤å‚æ•°äº§ç”Ÿæ­§ä¹‰ï¼Œéœ€è¦é¿å…

	system("pause");

	return 0;
}
```
